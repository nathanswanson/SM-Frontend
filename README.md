See https://github.com/nathanswanson/SM-builder
